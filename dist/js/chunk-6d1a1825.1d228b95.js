(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d1a1825"],{"13d5":function(e,t,n){"use strict";var r=n("23e7"),i=n("d58f").left,a=n("a640"),s=n("ae40"),o=a("reduce"),c=s("reduce",{1:0});r({target:"Array",proto:!0,forced:!o||!c},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},37906:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h1",{staticClass:"title"},[e._v("Search")]),n("b-form",{on:{submit:function(t){return t.preventDefault(),e.Search(t)},reset:function(t){return t.preventDefault(),e.Reset(t)}}},[n("b-row",{staticClass:"my-1"},[n("b-col",{attrs:{sm:"2"}},[n("label",{attrs:{for:"input-query"}},[e._v("Search:")])]),n("b-col",{attrs:{sm:"10"}},[n("b-form-input",{attrs:{id:"input-default",placeholder:"Search Recipe"},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1),n("b-row",{staticClass:"my-1"},[n("b-col",{attrs:{sm:"2"}},[n("label",{attrs:{for:"input-query"}},[e._v("How many recipes would you like to get?")])]),n("b-col",{attrs:{sm:"10"}},[n("b-form-select",{attrs:{options:e.numOptions},model:{value:e.numSelected,callback:function(t){e.numSelected=t},expression:"numSelected"}})],1)],1),n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"mb-2",attrs:{variant:"outline-info"}},[e._v("Filtering")]),n("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[n("b-form-group",{attrs:{"label-for":"tags-component-select"}},[n("b-form-tags",{staticClass:"mb-2",attrs:{id:"tags-component-select",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.tags,i=t.inputAttrs,a=t.inputHandlers,s=t.disabled,o=t.removeTag;return[r.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},e._l(r,(function(t){return n("li",{key:t,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:t,disabled:s,variant:"info"},on:{remove:function(e){return o(t)}}},[e._v(e._s(t))])],1)})),0):e._e(),n("b-form-select",e._g(e._b({attrs:{disabled:s||0===e.availableCuisinesOptions.length,options:e.availableCuisinesOptions},scopedSlots:e._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[e._v("Choose cuisines")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),a))]}}]),model:{value:e.cuisine,callback:function(t){e.cuisine=t},expression:"cuisine"}})],1),n("b-form-group",{attrs:{"label-for":"tags-component-select"}},[n("b-form-tags",{staticClass:"mb-2",attrs:{id:"tags-component-select",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.tags,i=t.inputAttrs,a=t.inputHandlers,s=t.disabled,o=t.removeTag;return[r.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},e._l(r,(function(t){return n("li",{key:t,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:t,disabled:s,variant:"info"},on:{remove:function(e){return o(t)}}},[e._v(e._s(t))])],1)})),0):e._e(),n("b-form-select",e._g(e._b({attrs:{disabled:s||0===e.availableDietsOptions.length,options:e.availableDietsOptions},scopedSlots:e._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[e._v("Choose diets")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),a))]}}]),model:{value:e.diet,callback:function(t){e.diet=t},expression:"diet"}})],1),n("b-form-group",{attrs:{"label-for":"tags-component-select"}},[n("b-form-tags",{staticClass:"mb-2",attrs:{id:"tags-component-select",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.tags,i=t.inputAttrs,a=t.inputHandlers,s=t.disabled,o=t.removeTag;return[r.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},e._l(r,(function(t){return n("li",{key:t,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:t,disabled:s,variant:"info"},on:{remove:function(e){return o(t)}}},[e._v(e._s(t))])],1)})),0):e._e(),n("b-form-select",e._g(e._b({attrs:{disabled:s||0===e.availableIntolerancesOptions.length,options:e.availableIntolerancesOptions},scopedSlots:e._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[e._v("Choose intolerances")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),a))]}}]),model:{value:e.intolerance,callback:function(t){e.intolerance=t},expression:"intolerance"}})],1)],1),n("br"),n("br"),n("b-row",[n("b-button",{attrs:{type:"reset",variant:"info"}},[e._v("Clear")]),n("b-button",{staticClass:"ml-5 w-75",staticStyle:{width:"250px"},attrs:{type:"submit",variant:"primary"}},[e._v("Search")])],1)],1),this.recipes.length>0?n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-1",variant:"outline-info",text:"Sort By"}},[n("b-dropdown-item",{on:{click:e.sortByPopularity}},[e._v("Popularity")]),n("b-dropdown-item",{on:{click:e.sortByReady}},[e._v("Ready In Minutes")])],1):e._e(),n("br"),e._l(e.recipes,(function(e){return n("b-row",{key:e.id},[n("SearchRecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),e.noRecipes?n("h3",[e._v("Oh No! I couldn't find anything :( Try again...")]):e._e()],2)},i=[],a=n("c7eb"),s=n("1da1"),o=n("2909"),c=(n("4de4"),n("d3b7"),n("c975"),n("a15b9"),n("4e82"),["African","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"]),l=["Gluten Free","Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"],u=["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"],d=(n("832a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"recipe-preview",attrs:{to:{name:"recipe",params:{recipeId:e.recipe.id}}}},[n("div",[n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"100rem"},attrs:{"img-top":""}},[n("b-row",[n("b-col",[n("b-card-title",[e._v(" "+e._s(e.recipe.title))]),n("img",{staticClass:"recipe-image",staticStyle:{"max-width":"17rem"},attrs:{src:e.recipe.image}})],1),n("b-col",[n("b-card-text",[e._v(e._s(e.recipe.readyInMinutes)+" minutes")]),n("b-card-text",[e._v(e._s(e.recipe.popularity)+" likes")]),e.recipe.vegan?n("b-card-text",[e._v("Vegan")]):e._e(),e.recipe.vegetarian?n("b-card-text",[e._v("Vegetarian")]):e._e(),e.recipe.glutenFree?n("b-card-text",[e._v("Gluten Free")]):e._e(),n("b-button",{attrs:{variant:"primary"},on:{click:e.addToFavorites}},[e._v("Add to Favorites")])],1),n("b-col",[n("div",{staticClass:"wrapped"},[e._v(" Instructions: "),n("ol",e._l(this.instructionsFull,(function(t){return n("li",{key:t.number},[e._v(" "+e._s(t.step)+" ")])})),0)])])],1)],1)],1)])}),p=[],f=(n("13d5"),n("d81d"),n("b0c0"),n("99af"),{data:function(){return{instructionsFull:null}},props:{recipe:{type:Object,required:!0}},mounted:function(){this.createInstructions()},methods:{addToFavorites:function(){var e=this;return Object(s["a"])(Object(a["a"])().mark((function t(){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.post(e.$root.store.server_domain+"/user/favorites",{recipeId:e.recipe.id});case 3:t.sent,e.$root.toast("Favorites","Recipe added to favorites successfully","success"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},createInstructions:function(){var e=this;return Object(s["a"])(Object(a["a"])().mark((function t(){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.instructionsFull=e.recipe.analyzedInstructions.map((function(e){return e.steps[0].step=e.name+e.steps[0].step,e.steps})).reduce((function(e,t){return[].concat(Object(o["a"])(e),Object(o["a"])(t))}),[]);case 1:case"end":return t.stop()}}),t)})))()}}}),b=f,v=(n("761e"),n("2877")),m=Object(v["a"])(b,d,p,!1,null,"139fa158",null),h=m.exports,g={data:function(){return{query:"",diet:[],cuisine:[],intolerance:[],numSelected:5,cuisines:[],diets:[],intolerances:[],recipes:[],popSort:[],readySort:[],noRecipes:null,numOptions:[{value:5,text:"5"},{value:10,text:"10"},{value:15,text:"15"}]}},components:{SearchRecipePreview:h},mounted:function(){var e,t,n;(e=this.cuisines).push.apply(e,Object(o["a"])(c)),(t=this.intolerances).push.apply(t,Object(o["a"])(u)),(n=this.diets).push.apply(n,Object(o["a"])(l)),null!=this.$root.store.lastsearch&&this.$root.store.username&&(this.recipes=this.$root.store.lastsearch)},computed:{availableCuisinesOptions:function(){var e=this;return this.cuisines.filter((function(t){return-1===e.cuisine.indexOf(t)}))},availableDietsOptions:function(){var e=this;return this.diets.filter((function(t){return-1===e.diet.indexOf(t)}))},availableIntolerancesOptions:function(){var e=this;return this.intolerances.filter((function(t){return-1===e.intolerance.indexOf(t)}))}},methods:{Search:function(){var e=this;return Object(s["a"])(Object(a["a"])().mark((function t(){var n,r,i;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.noRecipes=!1,t.next=4,e.axios.get(e.$root.store.server_domain+"/recipes/searchRecipe",{params:{query:e.query,diet:e.diet.join(),cuisine:e.cuisine.join(),intolerance:e.intolerance.join(),number:e.numSelected}});case 4:r=t.sent,i=r.data,e.recipes=[],(n=e.recipes).push.apply(n,Object(o["a"])(i)),0===e.recipes.length&&(e.noRecipes=!0),e.$root.store.username&&(e.$root.store.lastsearch=e.recipes),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0.response);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},Reset:function(){this.query="",this.diet=[],this.intolerance=[],this.cuisine=[],this.numSelected=5},sortByPopularity:function(){this.recipes=this.recipes.sort((function(e,t){return t.popularity-e.popularity}))},sortByReady:function(){this.recipes=this.recipes.sort((function(e,t){return e.readyInMinutes-t.readyInMinutes}))}}},y=g,_=Object(v["a"])(y,r,i,!1,null,null,null);t["default"]=_.exports},"4de4":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").filter,a=n("1dde"),s=n("ae40"),o=a("filter"),c=s("filter");r({target:"Array",proto:!0,forced:!o||!c},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(e,t,n){"use strict";var r=n("23e7"),i=n("1c0b"),a=n("7b0b"),s=n("d039"),o=n("a640"),c=[],l=c.sort,u=s((function(){c.sort(void 0)})),d=s((function(){c.sort(null)})),p=o("sort"),f=u||!d||!p;r({target:"Array",proto:!0,forced:f},{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),i(e))}})},"761e":function(e,t,n){"use strict";var r=n("8a3d"),i=n.n(r);i.a},"8a3d":function(e,t,n){},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),a=n("e8b5"),s=n("861d"),o=n("7b0b"),c=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),p=n("b622"),f=n("2d00"),b=p("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",h=f>=51||!i((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),g=d("concat"),y=function(e){if(!s(e))return!1;var t=e[b];return void 0!==t?!!t:a(e)},_=!h||!g;r({target:"Array",proto:!0,forced:_},{concat:function(e){var t,n,r,i,a,s=o(this),d=u(s,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?s:arguments[t],y(a)){if(i=c(a.length),p+i>v)throw TypeError(m);for(n=0;n<i;n++,p++)n in a&&l(d,p,a[n])}else{if(p>=v)throw TypeError(m);l(d,p++,a)}return d.length=p,d}})},a15b9:function(e,t,n){"use strict";var r=n("23e7"),i=n("44ad"),a=n("fc6a"),s=n("a640"),o=[].join,c=i!=Object,l=s("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(e){return o.call(a(this),void 0===e?",":e)}})},c975:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,a=n("a640"),s=n("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,l=a("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(e){return c?o.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},d58f:function(e,t,n){var r=n("1c0b"),i=n("7b0b"),a=n("44ad"),s=n("50c4"),o=function(e){return function(t,n,o,c){r(n);var l=i(t),u=a(l),d=s(l.length),p=e?d-1:0,f=e?-1:1;if(o<2)while(1){if(p in u){c=u[p],p+=f;break}if(p+=f,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=f)p in u&&(c=n(c,u[p],p,l));return c}};e.exports={left:o(!1),right:o(!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,a=n("1dde"),s=n("ae40"),o=a("map"),c=s("map");r({target:"Array",proto:!0,forced:!o||!c},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-6d1a1825.1d228b95.js.map